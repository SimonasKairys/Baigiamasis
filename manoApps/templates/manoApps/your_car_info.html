{% extends 'base.html' %}

{% block content %}
  <h2>{{ user.username }} Car Information</h2>

  <table border="1" class="table table-striped table-sm">
    <thead>
      <tr>
        <th class="text-nowrap text-center">Car</th>
        <th class="text-nowrap text-center">Car Model</th>
        <th class="text-nowrap text-center">Car Year</th>
        <th class="text-nowrap text-center">Fuel Type</th>
        <th class="text-nowrap text-center">Odometer Value</th>
        <th class="text-nowrap text-center">Fuel in Tank</th>
        <th class="text-nowrap text-center">Gas Station Name</th>
        <th class="text-nowrap text-center">Gas Station Location</th>
        <th class="text-nowrap text-center">Date</th>
        <th class="text-nowrap text-center">Price EUR</th>
      </tr>
    </thead>
    <tbody>
      {% for user_car in user_cars %}
        <tr>
          <td class="text-nowrap text-center">{{ user_car.car_model.car }}</td>
          <td class="text-nowrap text-center">{{ user_car.car_model.model }}</td>
          <td class="text-nowrap text-center">{{ user_car.car_year }}</td>
          <td class="text-nowrap text-center">{{ user_car.fuel_type }}</td>
          <td class="text-nowrap text-center">{{ user_car.odometer_value }}</td>
          <td class="text-nowrap text-center">{{ user_car.fuel_in_tank }}</td>
          <td class="text-nowrap text-center">{{ user_car.gasstation_set.first.name }}</td>
          <td class="text-nowrap text-center">{{ user_car.gasstation_set.first.location }}</td>
          <td class="text-nowrap text-center">{{ user_car.gasstation_set.first.date }}</td>
          <td class="text-nowrap text-center">{{ user_car.gasstation_set.first.price }}</td>
          <td  class="text-nowrap text-center">
            <a href="{% url 'edit_car' user_car.id %}">Edit</a> |
            <a href="{% url 'delete_car' user_car.id %}"
               onclick="return confirm('Are you sure you want to delete this car?')">Delete</a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
