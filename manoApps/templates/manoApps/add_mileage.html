{% extends 'base.html' %}

{% block extra_head %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
{% endblock %}

{% block content %}
<div class="container">
  <h2>Add Mileage for
      {{ user_car.car_model.car }}
      {{ user_car.car_model.model }}
      {{ user_car.car_year }}
      {{ user_car.fuel_type }}</h2>

  <form method="post">
    {% csrf_token %}
    <table class="table table-bordered table-sm">
      <tbody>
        {% for field in form %}
          <tr>
            <td class="text-nowrap text-right">{{ field.label_tag }}</td>
            <td>{{ field }}</td>
            {% if field.errors %}
              <td class="text-danger">{{ field.errors.0 }}</td>
            {% else %}
              <td>&nbsp;</td>
            {% endif %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <button type="submit" class="btn btn-primary">Add Mileage</button>
      <script>
    document.getElementById('id_car').onchange = function () {
      this.form.submit();
    }


    $(function() {
      $("#id_date").datepicker();
    });
  </script>
  </form>
</div>

{% endblock %}
